<Main>:
    on_enter:
        root.enter()
    FitImage:
        source:'bg.jpg'
        
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus'
            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
            #right_action_items: [['refresh', lambda x: root.refresh()]]
        
                
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            GridLayout:
                size_hint_y:None
                spacing:0,70
                padding:50,100
                id:grid
                cols:1
    
    MDFloatingActionButton:
        icon: "test-tube"
        on_release: root.show_test()
        pos_hint: {"center_x": .43, "center_y": .065}
        
    MDFloatingActionButton:
        icon: "image"
        on_release: root.learnpic()
        pos_hint: {"center_x": .65, "center_y": .065}
        
    MDFloatingActionButtonSpeedDial:
        id: speed_dial
        data: root.data
        root_button_anim: True
        label_text_color: "black"
        label_bg_color: "#ccdcff"
        hint_animation: False
        
    MDNavigationDrawer:
        id: nav_drawer
        radius: (0, 16, 16, 0)
        
        MDNavigationDrawerMenu
            MDNavigationDrawerHeader:
                id:ttool
                spacing: "2dp"
                padding: "16dp", 0, 0, "16dp"
                icon:'icon.jpg'
                title:'My Syllabus'
                text:'Easily manage your exam syllabus'
            
            MDNavigationDrawerLabel:
                text: "\n\nApp Features"
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "image"
                text_right_color: "#4a4939"
                text: "Important Pics"
                on_release: root.learnpic()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "file-pdf-box"
                text_right_color: "#4a4939"
                text: "PDF File Tasks"
                on_release: root.pdfp()
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "file-chart-outline"
                text_right_color: "#4a4939"
                text: "Overall Report"
                on_release: root.show_overall_report('Goto')              
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "file-document-check"
                text_right_color: "#4a4939"
                text: "Exam Report"
                on_release: root.go_to_exam()   
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "message-reply-text-outline"
                text_right_color: "#4a4939"
                text: "Chat"
                on_release: root.go_to_chat()   
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "list-box-outline"
                text_right_color: "#4a4939"
                text: "TO-DO"
                on_release: root.todo()
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "cloud-upload"
                text_right_color: "#4a4939"
                text: "Save Data"
                on_release: root.save_data()
                
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "cloud-alert"
                text_right_color: "#4a4939"
                text: "Lost Data/Folder Deleted"
                on_release: root.recover()
            
            MDNavigationDrawerLabel:
                text: "\n\nSystem Tasks"
            
            MDNavigationDrawerItem
                icon: "trash-can"
                right_text: ""
                text_right_color: "#4a4939"
                text: "Delete Current Question"
                on_release:root.change_question('delete')
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "history"
                text_right_color: "#4a4939"
                text: "History"
                on_release: root.history()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "cog"
                text_right_color: "#4a4939"
                text:"Setting"
                on_release: root.setting()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "refresh"
                text_right_color: "#4a4939"
                text:'Refresh'
                on_release: root.refresh()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                id:lgt
                icon: "account"
                text_right_color: "#4a4939"
                text:''
                on_release: root.login(self.text)
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "help-circle-outline"
                text_right_color: "#4a4939"
                text: "About"
                on_release: root.about()
                
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: "exit-to-app"
                text_right_color: "#4a4939"
                text: "EXIT"
                on_release: root.exit()
            
            MDNavigationDrawerDivider:
            MDNavigationDrawerItem
                icon: ""
                text_right_color: "#4a4939"
                text: "Version - 4.0.0"
                on_release: root.version_tell()
    
<NotePage>:
    on_enter:
        root.enter()
        
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus'
            right_action_items: [["share", lambda x: root.share()],["content-save", lambda x: root.save()],["home", lambda x: root.home()]]
        
        MDScrollView:
            id:scrollv
            do_scroll_x: False
            do_scroll_y: True
            
            MDTextField:
                id:main_text
                multiline:True

<PdfPage>:
    on_enter:
        self.enter()
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            elevation: 4
            title:'PDF File Tasks'
            left_action_items:[['home', lambda x: root.home()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:5
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            
            GridLayout:
                size_hint_y:None
                spacing:0,150
                padding:25,150
                id:grid
                cols:1
                
                MDRaisedButton:
                    text:'Create PDF File'
                    size_hint: (0.2,0.9)
                    on_release:root.mkpdf()
                
                MDRaisedButton:
                    text:'Split PDF File'
                    size_hint: (0.2,0.9)
                    on_release:root.splitpdf()

                    
<GalleryPage>:
    on_enter:
        root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        
        MDTopAppBar:
            id:tbar
            pos_hint: {"top": 1}
            elevation: 4
            right_action_items:[['camera', lambda x: root.camera()],['home', lambda x: root.home()]]
            
        MDLabel:
            text:""
            
        FitImage:
            size_hint_y:None
            height:1000
            size_hint_x:None
            width:900
            id:limg
            source:''
        
        GridLayout:
            rows:1
            size_hint_y:None
            spacing:10,20
            height:100
            
            MDRaisedButton:
                text:'Previous'
                on_release:root.previous()
            
            MDRaisedButton:
                text:'Set Wallpaper'
                on_release:root.wall()
            
            MDRaisedButton:
                text:'Delete'
                on_release:root.delete()
                
            MDRaisedButton:
                text:'Next'
                on_release:root.next()
            
<CameraWin>:
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus Camera'
            elevation: 4
            right_action_items:[['home', lambda x: root.home()]]
        
        MDLabel:
            id:time
            text:''
            size_hint_y:None
            height:50
            
        Camera:
            id: camera
            resolution: (720, 720)
            play: True
            index:0
            canvas.before:
                PushMatrix
                Rotate:
                    angle: -90
                    origin: self.center
            canvas.after:
                PopMatrix
            
        MDBottomAppBar:
            MDTopAppBar:
                icon: "camera-iris"
                type: "bottom"
                mode: "center"
                on_action_button:root.capture()
        

 
<SubjectPage>:
    on_enter:
        root.enter()
        
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus'
            right_action_items: [["home", lambda x: root.home()]]
            left_action_items: [['refresh', lambda x: root.enter()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
                
    MDFloatingActionButtonSpeedDial:
        id: speed_dial
        data: root.data
        root_button_anim: True
        label_text_color: "black"
        label_bg_color: "white"
        hint_animation: False
        

<ReportPage>:
    on_enter:root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'Overall Report'
            right_action_items: [["dots-vertical", lambda x: root.menu_open(x)]]
       
        MDLabel:
            text:''
            size_hint_y:None
            height:50
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            MDCard:
                id:board
                size_hint_y:None
                height: cont.height
                md_bg_color:'#a9e2f5'
                
                MDLabel:
                    id:cont
                    text:''
                    markup:True
                    padding: [25, 25]
                    size_hint_y: None
                    halign:'center'
                    height: self.texture_size[1] + 2*self.padding[1]


<AboutPage>:
    on_enter:root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'About'
            right_action_items: [["home", lambda x: root.home()]]
       
        MDLabel:
            text:''
            size_hint_y:None
            height:50
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            GridLayout:
                size_hint_y: 1.4
                spacing:0,70
                padding:0,100
                id:grid
                cols:1
                
                MDLabel:
                    text:'[color=#4fc406]My Syllabus[/color]'
                    halign:'center'
                    markup:True
                    font_style:'H3'
                    bold:True
                    underline:True
                
                MDCard:
                    size_hint_y:None
                    height: root.ww
                    size_hint_x:None
                    width: root.ww
                    FitImage:
                        source:'icon.jpg'
                
                MDLabel:
                    text:'It is an app built with an objective of making it easy for students to manage their syllabus and get success in their exams'
                    halign:'center'
                    markup:True
                    font_style:'H6'
                    bold:True
                    size_hint_y:None
                    height:150
                
                MDLabel:
                    text:'[color=#4fc406]All The Best !![/color]'
                    halign:'center'
                    markup:True
                    font_style:'H3'
                    bold:True
                    underline:True
                    size_hint_y:None
                    height:200
                    
                
                    

<TasksPage>:
    on_enter:root.enter()
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:"Today's Tasks"
            right_action_items: [["home", lambda x: root.home()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
        
        MDRelativeLayout:
            size_hint_x: None
            width: root.ww
            size_hint_y: None
            height: taskt.height
            
            MDTextField:
                id: taskt
                hint_text: 'Type Task'
                max_text_length:30
                mode:"fill"
                multiline:False
                text_color_focus:'red'
        
            MDIconButton:
                icon: "send"
                pos_hint: {"center_y": .5}
                pos: taskt.width - self.width + dp(8), 0
                on_release:root.add_task(taskt.text)
                
                
<LoginPage>:
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Tasks Login'
            right_action_items: [['keyboard-backspace', lambda x: root.back()]]
            
        MDLabel:
            text:''
    
    MDIcon:
        icon:'account'
        pos_hint: {"center_x": .5, "center_y": .8}
        font_size: '200dp'
    
    MDTextField:
        id:sname
        multiline:False
        hint_text:'Student Name'
        pos_hint: {"center_x": .5, "center_y": .5}
        mode:'rectangle'
    
    MDRaisedButton:
        text: "Login"
        pos_hint: {"center_x": .5, "center_y": .3}
        size_hint:(0.9,0.1)
        on_release:root.login()
    
    MDFlatButton:
        text: "Do not have a account Signup"
        pos_hint: {"center_x": .5, "center_y": .15}
        size_hint:(0.9,0.1)
        on_release:root.sign()
            
<SignupPage>:
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Tasks Signup'
            right_action_items: [['keyboard-backspace', lambda x: root.back()]]
            
        MDLabel:
            text:''
            
    MDIcon:
        icon:'account'
        pos_hint: {"center_x": .5, "center_y": .8}
        font_size: '200dp'
    
    MDTextField:
        id:sname
        multiline:False
        hint_text:'Student Name'
        pos_hint: {"center_x": .5, "center_y": .5}
        mode:'rectangle'
    
    
    MDRaisedButton:
        text: "Signup"
        pos_hint: {"center_x": .5, "center_y": .3}
        size_hint:(0.9,0.1)
        on_release:root.signup()
    
    MDFlatButton:
        text: "Already have a account Login"
        pos_hint: {"center_x": .5, "center_y": .15}
        size_hint:(0.9,0.1)
        on_release:root.log()
        
        
<ChatPage>:
    on_enter:root.enter()
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:"Chat"
            right_action_items: [["home", lambda x: root.home()]]
            
        ScrollView:
            do_scroll_x:False
            do_scroll_y:True
            bar_margin:4
            bar_width:10
            scroll_type:['bars', 'content']
            bar_color:[0, 0, 1, 1]
            id:scroll
            
            GridLayout:
                size_hint_y:None
                spacing:0,30
                padding:50,100
                id:grid
                cols:1
        
        MDRelativeLayout:
            size_hint_x: None
            width: root.ww
            size_hint_y: None
            height: taskt.height
            
            MDTextField:
                id: taskt
                hint_text: 'Type Message'
                max_text_length:30
                mode:"fill"
                multiline:True
                text_color_focus:'red'
        
            MDIconButton:
                icon: "send"
                pos_hint: {"center_y": .5}
                pos: taskt.width - self.width + dp(8), 0
                on_release:root.send(taskt.text)  

    MDSpinner:
        size_hint: None, None
        size: dp(46), dp(46)
        pos_hint: {'center_x': .5, 'center_y': .5}
        id:loader
        active:True
        

<ExamPage>:
    on_enter:root.enter()
    
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Exams Report'
            right_action_items: [['home', lambda x: root.home()]]
            
        ScrollView:
            MDList:
                id: flist
                padding: 10,30
                spacing: 0,20
                
    MDFloatingActionButton:
        icon: "plus"
        pos_hint: {"center_x": .85, "center_y": .1}
        on_release:
            root.add_exam()
            
    MDSpinner:
        size_hint: None, None
        size: dp(46), dp(46)
        pos_hint: {'center_x': .5, 'center_y': .5}
        id:loader
        active:True
        
        
<ExamBox>:
    orientation:'vertical'
    size_hint_y:None
    height:'200dp'
    
    MDLabel:
        text:"Add Exam name and your scores"
        font_style:'Caption'
        
    MDTextField:
        hint_text:'Exam Name'
        required:True
        multiline:False
        text:''
        id:ename
        text_color_focus:'red'
        
    MDTextField:
        hint_text:'Maximum Marks'
        required:True
        multiline:False
        text:''
        id:mm
        text_color_focus:'red'
        
    MDTextField:
        hint_text:'Marks Obtained'
        required:True
        multiline:False
        text:''
        id:mo
        text_color_focus:'red'
        
<Setting>:
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'My Syllabus Setting'
            right_action_items: [["home", lambda x: root.home()]]
        
        MDScrollView:
            id:scrollv
            do_scroll_x: False
            do_scroll_y: True
            
            MDGridLayout:
                size_hint_y:None
                height: self.minimum_height
                spacing:(50,50)
                padding:(50,50)
                id:main_grid
                cols:1
                
                MDCard:
                    size_hint_x:None
                    width:root.ww-100
                    size_hint_y:None
                    height:150
                    md_bg_color:'#ffff99'
                    MDBoxLayout:
                        orientation:'horizontal'
                        MDLabel:
                            text:'App Style'
                            halign:'center'
                            size_hint_x:None
                            width:root.ww/1.5
                        
                        MDSwitch:
                            size_hint_x:None
                            width:75
                            id:dark_mode_switch
                            pos_hint: {"center_x":.5,"center_y":.5}
                            active:True if root.asset() else False
                            on_active: app.app_style(*args)
                
                MDCard:
                    size_hint_x:None
                    width:root.ww-100
                    size_hint_y:None
                    height:150
                    md_bg_color:'#ffff99'
                    MDBoxLayout:
                        orientation:'horizontal'
                        MDLabel:
                            text:'Dark Mode'
                            halign:'center'
                            size_hint_x:None
                            width:root.ww/1.5
                        
                        MDSwitch:
                            size_hint_x:None
                            width:75
                            id:dark_mode_switch
                            pos_hint: {"center_x":.5,"center_y":.5}
                            active:True if root.dlset() else False
                            on_active: app.night_mode(*args)
                            
                
                MDCard:
                    size_hint_x:None
                    width:root.ww-100
                    size_hint_y:None
                    height:150
                    md_bg_color:'#ffff99'
                    MDBoxLayout:
                        orientation:'horizontal'
                        MDLabel:
                            text:'Questions Subject'
                            halign:'center'
                            size_hint_x:None
                            width:root.ww/1.5
                        MDRaisedButton:
                            id:sbtn
                            text:'Subject'
                            on_release:root.subject_menu_open()
                
                MDCard:
                    size_hint_x:None
                    width:root.ww-100
                    size_hint_y:None
                    height:150
                    md_bg_color:'#ffff99'
                    MDBoxLayout:
                        orientation:'horizontal'
                        MDLabel:
                            text:'Questions Chapter'
                            halign:'center'
                            size_hint_x:None
                            width:root.ww/1.5
                        MDRaisedButton:
                            id:cbtn
                            text:'Chapter'
                            on_release:root.chapters_menu_open()
                            
                        
                MDCard:
                    size_hint_x:None
                    width:root.ww-100
                    size_hint_y:None
                    height:150
                    md_bg_color:'#ffff99'
                    MDBoxLayout:
                        orientation:'horizontal'
                        MDLabel:
                            text:'Pause History'
                            halign:'center'
                            size_hint_x:None
                            width:root.ww/1.5
                        
                        MDSwitch:
                            size_hint_x:None
                            width:75
                            id:dark_mode_switch
                            pos_hint: {"center_x":.5,"center_y":.5}
                            active:True if root.pauseset() else False
                            on_active: root.pause_all_search(*args)
                
                MDRelativeLayout:
                    size_hint_x: None
                    width: root.ww - 100
                    size_hint_y: None
                    height: taskt.height
                        
                    MDTextField:
                        id: taskt
                        hint_text: 'Theme'
                        max_text_length:30
                        mode:"rectangle"
                        multiline:False
                    
                    MDIconButton:
                        icon: "send"
                        pos_hint: {"center_y": .5}
                        pos: taskt.width - self.width + dp(8), 0
                        on_release:app.change_theme(taskt.text)  
                                 
                MDCard:
                    size_hint_x:None
                    width:root.ww-100
                    size_hint_y:None
                    height:350
                    md_bg_color:'#ffff99'
                    padding:(50,30)
                    MDLabel:
                        text:'Make sure you have given us the permission to manage all file types other wise you will not be able to view some files and work properly , some features of the app may also not work'
                        halign:'center'
                        size_hint_x:None
                        width:root.ww/1.5
                            
                            
                MDRaisedButton:
                    text:'Exit'
                    size_hint:(0.9,0.3)
                    md_bg_color: "red"
                    on_release:
                        app.exit()
                        
<HistoryPage>:
    on_enter:root.enter()
    MDBoxLayout:
        orientation:'vertical'
        MDTopAppBar:
            id:tbar
            title:'History'
            right_action_items: [["trash-can", lambda x: root.trash()],["home", lambda x: root.home()]]
            
        ScrollView:
            MDList:
                id: flist
                padding: 10,30
                spacing: 0,20
                